formatters:
  simple:
    format: '%(asctime)s %(name)s [%(levelname)s]: %(message)s'
handlers:
  console:
    class: logging.StreamHandler
    formatter: simple
    stream: ext://sys.stdout

root:
  handlers: [console]

model:
  # Please change following properties when changing model.name
  #   - sampling.concurrent_requests
  #   - model.params.url (50052 for lb grpc)
  # MegaMolBART Seq2Seq Base_Small_Span_Aug_Half_noam_Draco_nodes_4_gpus_16.nemo
  name: MegaMolBARTLatent # MegaMolBART
  exp_name:  vae_k4_avg # prcvr_k4 #seq2seq # mim_same_aug_k1 #
  checkpoint_file: VAE_SSA_steps_4_latent_dim_-1_Draco_nodes_4_gpus_16.nemo #Prcvr_SSA_no_mask_steps_4_Draco_nodes_4_gpus_16.nemo #Base_Small_Span_Aug_Half_noam_Draco_nodes_4_gpus_16.nemo MIM_SSA_steps_1_latent_dim_-1_same_aug_sample_logv.nemo
  training_data: /data/db/zinc_train_test.sqlite3 #/data/db/cddd_train.sqlit
  batch_size: 500 # 100 500 for seq2seq radii > 1 batch_size of 500 is too much for single GPU
  perceiver_average: True
  noise_mode: 0 #2 # For LVM sampling selection

  # name:  cuchembench.inference.GrpcMegaMolBARTWrapper
  # training_data: /data/db/zinc_train.sqlite3
  # params:
  #   url: nginx:50052

sampling:
  max_seq_len: 512
  sample_size: 10
  db: /data/db/embedding_cache_megamolbart_vae_k4.sqlite3 #prcvr_k4_physchem.sqlite3 #prcvr_k4_0.7_bs_500.sqlite3 #seq2seq_20k_500_bs.sqlite3 #mim_logv_k1_20k_500_bs.sqlite3 _mim_logv_k1_same_aug.sqlite3
  concurrent_requests: 10

output:
#TODO: Change path for new models
  path: /data/benchmark_output/vae #use unique names here seq2seq

metric:
  validity:
    enabled: False
    input_size: 20000
    radius:
      - 1.2
      # - 0.7

  unique:
    enabled: False
    input_size: ${metric.validity.input_size}
    remove_invalid: False
    radius: ${metric.validity.radius}

  novelty:
    enabled: False
    input_size: ${metric.validity.input_size}
    remove_invalid: False
    radius: ${metric.validity.radius}

  effective_novelty:
    enabled: False
    input_size: ${metric.validity.input_size}
    remove_invalid: False
    radius: ${metric.validity.radius}

  identicality:
    enabled: False
    input_size: ${metric.validity.input_size}
    remove_invalid: False
    radius: ${metric.validity.radius}

  nearest_neighbor_correlation:
    enabled: True
    input_size: -1
    top_k:
      - 50
      - 100
      - 500

  modelability:
    physchem:
      enabled: True
      input_size: -1
      n_splits: 20
      normalize_inputs: True
      return_predictions: True

    bioactivity:
      enabled: False
      input_size: -1 # Number of genes to include, not number of molecules, -1 is all genes
      gene_cnt: -1
      n_splits: 20
      normalize_inputs: True
      return_predictions: True
